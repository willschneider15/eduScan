{"version":3,"file":"plugin.mjs","sources":["../../../../src/plugins/systemModule/plugin.ts"],"sourcesContent":["import { SystemProgram } from '@solana/web3.js';\nimport { ProgramClient } from '../programModule';\nimport {\n  createAccountOperation,\n  createAccountOperationHandler,\n  transferSolOperation,\n  transferSolOperationHandler,\n} from './operations';\nimport { SystemClient } from './SystemClient';\nimport type { MetaplexPlugin, Program } from '@/types';\nimport type { Metaplex } from '@/Metaplex';\n\n/**\n * @group Plugins\n */\n/** @group Plugins */\nexport const systemModule = (): MetaplexPlugin => ({\n  install(metaplex: Metaplex) {\n    // Program.\n    const systemProgram = {\n      name: 'SystemProgram',\n      address: SystemProgram.programId,\n    };\n    metaplex.programs().register(systemProgram);\n    metaplex.programs().getSystem = function (\n      this: ProgramClient,\n      programs?: Program[]\n    ) {\n      return this.get(systemProgram.name, programs);\n    };\n\n    // Operations.\n    const op = metaplex.operations();\n    op.register(createAccountOperation, createAccountOperationHandler);\n    op.register(transferSolOperation, transferSolOperationHandler);\n\n    metaplex.system = function () {\n      return new SystemClient(this);\n    };\n  },\n});\n\ndeclare module '../../Metaplex' {\n  interface Metaplex {\n    system(): SystemClient;\n  }\n}\n\ndeclare module '../programModule/ProgramClient' {\n  interface ProgramClient {\n    getSystem(programs?: Program[]): Program;\n  }\n}\n"],"names":["systemModule","install","metaplex","systemProgram","name","address","SystemProgram","programId","programs","register","getSystem","get","op","operations","createAccountOperation","createAccountOperationHandler","transferSolOperation","transferSolOperationHandler","system","SystemClient"],"mappings":";;;;;AAYA;AACA;AACA;AACA;AACO,MAAMA,YAAY,GAAG,OAAuB;EACjDC,OAAO,CAACC,QAAkB,EAAE;AAC1B;AACA,IAAA,MAAMC,aAAa,GAAG;AACpBC,MAAAA,IAAI,EAAE,eAAe;MACrBC,OAAO,EAAEC,aAAa,CAACC,SAAAA;KACxB,CAAA;AACDL,IAAAA,QAAQ,CAACM,QAAQ,EAAE,CAACC,QAAQ,CAACN,aAAa,CAAC,CAAA;IAC3CD,QAAQ,CAACM,QAAQ,EAAE,CAACE,SAAS,GAAG,UAE9BF,QAAoB,EACpB;MACA,OAAO,IAAI,CAACG,GAAG,CAACR,aAAa,CAACC,IAAI,EAAEI,QAAQ,CAAC,CAAA;KAC9C,CAAA;;AAED;AACA,IAAA,MAAMI,EAAE,GAAGV,QAAQ,CAACW,UAAU,EAAE,CAAA;AAChCD,IAAAA,EAAE,CAACH,QAAQ,CAACK,sBAAsB,EAAEC,6BAA6B,CAAC,CAAA;AAClEH,IAAAA,EAAE,CAACH,QAAQ,CAACO,oBAAoB,EAAEC,2BAA2B,CAAC,CAAA;IAE9Df,QAAQ,CAACgB,MAAM,GAAG,YAAY;AAC5B,MAAA,OAAO,IAAIC,YAAY,CAAC,IAAI,CAAC,CAAA;KAC9B,CAAA;AACH,GAAA;AACF,CAAC;;;;"}