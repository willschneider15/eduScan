{"version":3,"file":"errors.mjs","sources":["../../../../src/plugins/candyMachineV2Module/errors.ts"],"sourcesContent":["import { EndSettingType } from '@metaplex-foundation/mpl-candy-machine';\nimport { CandyMachineV2Item, CandyMachineV2EndSettings } from './models';\nimport { MetaplexError } from '@/errors';\nimport { BigNumber, DateTime, formatDateTime } from '@/types';\nimport { Option } from '@/utils';\n\n/** @group Errors */\nexport class CandyMachineV2Error extends MetaplexError {\n  readonly name: string = 'CandyMachineV2Error';\n  constructor(message: string, cause?: Error) {\n    super(message, 'plugin', 'Candy Machine V2', cause);\n  }\n}\n\n/** @group Errors */\nexport class CandyMachineV2IsFullError extends CandyMachineV2Error {\n  readonly name: string = 'CandyMachineV2IsFullError';\n  constructor(assetIndex: BigNumber, itemsAvailable: BigNumber) {\n    const message =\n      `Trying to add asset number ${assetIndex.addn(1)}, but ` +\n      `candy machine only can hold ${itemsAvailable} assets. ` +\n      'Limit number of assets you are adding or create a new Candy Machine that can hold more.';\n    super(message);\n  }\n}\n\n/** @group Errors */\nexport class CandyMachineV2IsEmptyError extends CandyMachineV2Error {\n  readonly name: string = 'CandyMachineV2IsEmptyError';\n  constructor(itemsAvailable: BigNumber) {\n    const message =\n      `You're trying to mint from an empty candy machine. ` +\n      `All ${itemsAvailable} items have been minted. ` +\n      'You can no longer mint from this Candy Machine.';\n    super(message);\n  }\n}\n\n/** @group Errors */\nexport class CandyMachineV2CannotAddAmountError extends CandyMachineV2Error {\n  readonly name: string = 'CandyMachineV2CannotAddAmountError';\n  constructor(index: BigNumber, amount: number, itemsAvailable: BigNumber) {\n    const message =\n      `Trying to add ${amount} assets to candy machine that already ` +\n      `has ${index} assets and can only hold ${itemsAvailable} assets.` +\n      'Limit number of assets you are adding or create a new Candy Machine that can hold more.';\n    super(message);\n  }\n}\n\n/** @group Errors */\nexport class CandyMachineV2AddItemConstraintsViolatedError extends CandyMachineV2Error {\n  readonly name: string = 'CandyMachineV2AddItemConstraintsViolatedError';\n  constructor(index: BigNumber, item: CandyMachineV2Item, cause: Error) {\n    const message =\n      `Trying to add an asset with name \"${item.name}\" and uri: \"${item.uri}\" ` +\n      `to candy machine at index ${index} that violates constraints. ` +\n      `Fix the name or URI of this asset and try again.`;\n    super(message, cause);\n  }\n}\n\n/** @group Errors */\nexport class CandyMachineV2NotLiveError extends CandyMachineV2Error {\n  readonly name: string = 'CandyMachineV2NotLiveError';\n  constructor(goLiveDate: Option<DateTime>) {\n    const message =\n      `You're trying to mint from a Candy Machine which is not live yet. ` +\n      (goLiveDate\n        ? `It will go live on ${formatDateTime(goLiveDate)}.`\n        : `Its live date has not been set yet.`) +\n      'You need to wait until the Candy Machine is live to mint from it. ' +\n      'If this is your Candy Machine, use \"metaplex.candyMachinesV2().update(...)\" to set the live date. ' +\n      'Note that the authority of the Candy Machine can mint regardless of the live date.';\n    super(message);\n  }\n}\n\n/** @group Errors */\nexport class CandyMachineV2EndedError extends CandyMachineV2Error {\n  readonly name: string = 'CandyMachineV2EndedError';\n  constructor(endSetting: CandyMachineV2EndSettings) {\n    const endSettingType =\n      endSetting.endSettingType === EndSettingType.Amount ? 'Amount' : 'Date';\n    const endSettingExplanation =\n      endSetting.endSettingType === EndSettingType.Amount\n        ? `All ${endSetting.number} items have been minted.`\n        : `It ended on ${formatDateTime(endSetting.date)}.`;\n    const message =\n      `The end condition [${endSettingType}] of this Candy Machine has been reached. ` +\n      endSettingExplanation;\n    super(message);\n  }\n}\n\n/** @group Errors */\nexport class CandyMachineV2BotTaxError extends CandyMachineV2Error {\n  readonly name: string = 'CandyMachineV2BotTaxError';\n  constructor(explorerLink: string, cause: Error) {\n    const message =\n      `The NFT couldn't be fetched after being minted. ` +\n      `This is most likely due to a bot tax that occured during minting. ` +\n      `When someone tries to mint an NFT from a Candy Machine which cannot be minted from, ` +\n      `the program will succeed and charge a small tax to fight against bots. ` +\n      `Ensure you can mint from the Candy Machine. ` +\n      `You may want to check the transaction logs for more details: [${explorerLink}].`;\n    super(message, cause);\n  }\n}\n"],"names":["CandyMachineV2Error","MetaplexError","constructor","message","cause","CandyMachineV2IsFullError","assetIndex","itemsAvailable","addn","CandyMachineV2IsEmptyError","CandyMachineV2CannotAddAmountError","index","amount","CandyMachineV2AddItemConstraintsViolatedError","item","name","uri","CandyMachineV2NotLiveError","goLiveDate","formatDateTime","CandyMachineV2EndedError","endSetting","endSettingType","EndSettingType","Amount","endSettingExplanation","number","date","CandyMachineV2BotTaxError","explorerLink"],"mappings":"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"}